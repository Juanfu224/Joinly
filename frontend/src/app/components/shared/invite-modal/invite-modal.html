@if (modalService.isInviteOpen()) {
  <!-- Overlay oscuro (reutiliza clase del modal genérico) -->
  <div 
    class="c-modal__overlay"
    (click)="handleOverlayClick()"
    aria-hidden="true"
  ></div>

  <!-- Contenedor centrado (reutiliza clase del modal genérico) -->
  <div 
    class="c-modal__contenedor"
    role="dialog"
    aria-modal="true"
    aria-labelledby="invite-modal-title"
  >
    <!-- Contenido del modal -->
    <div 
      #modalContent
      class="c-modal__contenido"
      (click)="preventClose($event)"
    >
      <!-- Botón cerrar (reutiliza clase del modal genérico) -->
      <button
        type="button"
        class="c-modal__cerrar"
        (click)="handleOverlayClick()"
        aria-label="Cerrar modal"
      >
        <app-icon name="close" size="sm" />
      </button>

      <!-- Título (reutiliza clase del modal genérico) -->
      <h2 id="invite-modal-title" class="c-modal__titulo">
        Invita a tu familia
      </h2>

      <!-- Sección: Código del grupo -->
      <section class="c-invite-modal__seccion">
        <h3 class="c-invite-modal__label">Código del grupo</h3>
        <div class="c-invite-modal__row">
          <span class="c-invite-modal__valor">
            {{ modalService.inviteConfig()?.codigo | formatCodigo }}
          </span>
          <app-button variant="blue" size="sm" (click)="copiarCodigo()">
            Copiar
          </app-button>
        </div>
      </section>

      <!-- Sección: Enlace de unión -->
      <section class="c-invite-modal__seccion">
        <h3 class="c-invite-modal__label">Enlace de unión</h3>
        <div class="c-invite-modal__row">
          <span class="c-invite-modal__valor" [title]="enlaceUnion()">
            {{ enlaceCorto() }}
          </span>
          <app-button variant="blue" size="sm" (click)="copiarEnlace()">
            Copiar
          </app-button>
        </div>
      </section>

      <!-- Sección: Compartir en redes sociales -->
      <section class="c-invite-modal__seccion">
        <h3 class="c-invite-modal__label">Comparte directamente</h3>
        <nav class="c-invite-modal__social" aria-label="Compartir en redes sociales">
          @for (red of socialNetworks; track red) {
            <button
              type="button"
              class="c-invite-modal__social-btn"
              [attr.aria-label]="'Compartir en ' + red"
              (click)="compartir(red)"
            >
              <app-icon [name]="red" size="md" />
            </button>
          }
        </nav>
      </section>
    </div>
  </div>
}
