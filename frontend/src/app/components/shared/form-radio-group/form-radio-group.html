<fieldset class="c-form-radio-group__fieldset">
  <legend class="c-form-radio-group__legend">
    {{ label() }}
    @if (required()) {
      <span class="c-form-radio-group__required" aria-hidden="true">*</span>
    }
  </legend>

  <div
    class="c-form-radio-group__options"
    [class.c-form-radio-group__options--inline]="inline()"
    [attr.role]="'radiogroup'"
    [attr.aria-required]="required()"
    [attr.aria-invalid]="errorMessage() ? true : null"
    [attr.aria-describedby]="ariaDescribedBy()"
  >
    @for (option of options(); track option.value; let i = $index) {
      <div class="c-form-radio-group__option">
        <input
          type="radio"
          class="c-form-radio-group__input"
          [id]="getRadioId(i)"
          [name]="name() || computedGroupId()"
          [value]="option.value"
          [checked]="value() === option.value"
          [disabled]="disabled() || option.disabled"
          (change)="onRadioChange($event)"
          (blur)="onBlur()"
        />
        <label
          class="c-form-radio-group__label"
          [attr.for]="getRadioId(i)"
        >
          {{ option.label }}
        </label>
      </div>
    }
  </div>

  @if (errorMessage()) {
    <span
      [id]="errorId()"
      class="c-form-radio-group__error"
      role="alert"
    >
      {{ errorMessage() }}
    </span>
  }

  @if (helpText() && !errorMessage()) {
    <span
      [id]="helpTextId()"
      class="c-form-radio-group__help"
    >
      {{ helpText() }}
    </span>
  }
</fieldset>
