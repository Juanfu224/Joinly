// ==========================================================================
// CSS CUSTOM PROPERTIES - TOKENS DE DISEÑO (Run-time)
// ==========================================================================
// Este archivo contiene EXCLUSIVAMENTE variables CSS nativas (:root).
// Se evalúan en tiempo de ejecución y pueden ser modificadas dinámicamente.
//
// IMPORTANTE: Usa interpolación de Sass #{$variable} para obtener los valores
// de las variables SCSS definidas en _variables.scss
//
// Para variables de compilación (SCSS), ver: _variables.scss

@use 'sass:color';
@use 'variables' as *;

// ==========================================================================
// PALETA DE COLORES
// ==========================================================================

:root {
  // --- COLORES PRIMITIVOS (Paleta base con interpolación SCSS) ---
  // Morados
  --color-morado-principal: #{$color-morado-principal};
  --color-morado-oscuro: #{$color-morado-oscuro};

  // Naranjas
  --color-naranja-principal: #{$color-naranja-principal};
  --color-naranja-oscuro: #{$color-naranja-oscuro};

  // Amarillos y Azules
  --color-amarillo: #{$color-amarillo};
  --color-azul: #{$color-azul};

  // Grises
  --color-gris-medio: #{$color-gris-medio};
  --color-gris-oscuro: #{$color-gris-oscuro};
  --color-texto-normal: #{$color-texto-normal};
  --color-texto-oscuro: #{$color-texto-oscuro};
  --color-footer: #{$color-footer};

  // Blancos y fondos claros
  --color-blanco: #{$color-blanco};
  --color-fondo-claro: #{$color-fondo-claro};
  --color-fondo-claro-secundario: #{$color-fondo-claro-secundario};
  --color-fondo-claro-naranja: #{$color-fondo-claro-naranja};
  --color-fondo-claro-morado: #{$color-fondo-claro-morado};
  --color-fondo-claro-azul: #{$color-fondo-claro-azul};

  // Colores de acento adicionales del examen
  --color-teal: #{$color-teal};
  --color-teal-oscuro: #{$color-teal-oscuro};
  --color-fondo-teal: #f0fdfa;

  // Estados
  --color-verde: #{$color-verde};
  --color-rojo: #{$color-rojo};

  // --- TOKENS SEMÁNTICOS PARA TEMAS ---
  // Fondos (bg = background)
  --bg-primary: #{$color-fondo-claro};
  --bg-secondary: #{$color-blanco};
  --bg-tertiary: #{$color-gris-medio}; // Gris claro para skeletons y placeholders
  --bg-card: #{$color-blanco}; // Fondo de tarjetas anidadas (mismo que secondary en light)

  // Texto
  --text-primary: #{$color-texto-oscuro};
  --text-secondary: #475569;

  // Bordes
  --border-color: #{$color-gris-medio};

  // --- TOKENS SEMÁNTICOS (Significado contextual) ---
  // Colores principales
  --color-principal: var(--color-morado-principal);
  --color-principal-oscuro: var(--color-morado-oscuro);
  --color-acento: var(--color-naranja-principal);
  --color-acento-oscuro: var(--color-naranja-oscuro);

  // Colores secundarios
  --color-secundario: var(--color-amarillo);
  --color-secundario-alt: var(--color-azul);

  // Texto (aliases semánticos)
  --color-texto-base: var(--color-texto-normal);
  --color-texto-fuerte: var(--color-texto-oscuro);

  // Superficies
  --color-superficie-base: var(--color-fondo-claro);
  --color-superficie-calida: var(--color-fondo-claro-naranja);
  --color-superficie-morada: var(--color-fondo-claro-morado);
  --color-superficie-blanca: var(--color-blanco);
  --color-superficie-blanca-alt: var(--color-fondo-claro-secundario);
  --color-superficie-azul: var(--color-fondo-claro-azul);
  --color-superficie-footer: var(--color-footer);

  // Alias adicionales para compatibilidad
  --color-fondo-claro-normal: var(--color-fondo-claro);

  // Bordes
  --color-borde-base: var(--color-gris-medio);
  --color-borde-fuerte: var(--color-gris-oscuro);

  // Estados
  --color-exito: var(--color-verde);
  --color-error: var(--color-rojo);
  --color-advertencia: var(--color-amarillo);
  --color-informacion: var(--color-azul);

  // Sombras
  --color-base-sombra: #{$color-base-sombra};

  // Accesibilidad - Contraste WCAG AA
  // Texto oscuro para usar sobre fondos de acento (naranja, amarillo)
  --color-texto-sobre-acento: #1a202c;
  // Color de enlaces del footer con contraste suficiente (4.5:1 mínimo)
  // El footer siempre tiene fondo oscuro (#1e293b), necesita texto claro
  // #cbd5e1 (slate-300) sobre #1e293b = 7.52:1 ✓ WCAG AAA
  --color-enlace-footer: #cbd5e1; // slate-300
}

// ==========================================================================
// TIPOGRAFÍA
// ==========================================================================

:root {
  // --- FAMILIA DE FUENTE ---
  --font-primaria: 'Inter', 'Inter-fallback', sans-serif;

  // --- PESOS DE FUENTE ---
  --peso-fuente-ligero: 300;
  --peso-fuente-regular: 400;
  --peso-fuente-medio: 500;
  --peso-fuente-semi-negrita: 600;
  --peso-fuente-negrita: 700;
  --peso-fuente-extra-negrita: 900;

  // --- TAMAÑOS DE FUENTE ---
  // Basados en el sistema de diseño de Figma
  // Valores fijos para mantener consistencia con el diseño

  // Títulos (Headings)
  --tamano-h1: 4rem; // 64px - Título H1 Display
  --tamano-h2: 3rem; // 48px - Título H2 Sección
  --tamano-h3: 2rem; // 32px - Título H3 Subsección
  --tamano-h4: 1.25rem; // 20px - Título H4 Pequeño

  // Escala de tamaños de texto (aliases para flexibilidad)
  --tamano-texto-5xl: 4rem; // 64px
  --tamano-texto-4xl: 3rem; // 48px
  --tamano-texto-3xl: 2rem; // 32px
  --tamano-texto-2xl: 1.5rem; // 24px
  --tamano-texto-xl: 1.25rem; // 20px

  // Cuerpo de texto (Body Text)
  --tamano-texto-grande: 1.125rem; // 18px - Body Large
  --tamano-texto-normal: 1rem; // 16px - Body Regular
  --tamano-texto-regular: 1rem; // 16px - Alias de Body Regular
  --tamano-texto-pequeno: 0.875rem; // 14px - Body Small
  --tamano-caption: 0.75rem; // 12px - Caption

  // --- ALTURAS DE LÍNEA ---
  // Basadas en el sistema de diseño de Figma

  // Para títulos
  --altura-linea-h1: 4.5rem; // 72px (64px font-size)
  --altura-linea-h2: 3.5rem; // 56px (48px font-size)
  --altura-linea-h3: 2.5rem; // 40px (32px font-size)
  --altura-linea-h4: 1.75rem; // 28px (20px font-size)

  // Para cuerpo de texto
  --altura-linea-body-large: 1.8rem; // 28.8px (18px font-size)
  --altura-linea-body-regular: 1.5rem; // 24px (16px font-size)
  --altura-linea-body-small: 1.3125rem; // 21px (14px font-size)
  --altura-linea-caption: 1rem; // 16px (12px font-size)

  // Alturas genéricas (para casos especiales)
  --altura-linea-apretada: 1.1;
  --altura-linea-ajustada: 1.125;
  --altura-linea-compacta: 1.25;
  --altura-linea-normal: 1.5;
  --altura-linea-relajada: 1.6;
}

// ==========================================================================
// ESPACIADO (Base 8px)
// ==========================================================================

:root {
  --espaciado-0: 0;
  --espaciado-1: 0.5rem;
  --espaciado-2: 1rem;
  --espaciado-3: 1.5rem;
  --espaciado-4: 2rem;
  --espaciado-5: 2.5rem;
  --espaciado-6: 3rem;
  --espaciado-8: 4rem;
  --espaciado-10: 5rem;
  --espaciado-12: 6rem;
  --espaciado-16: 8rem;

  // --- ESPACIADO DE CONTENEDOR ---
  /**
   * Padding lateral del contenedor principal
   * Implementa el estándar 80/20: 80% contenido, 20% espaciado
   * 
   * Valores responsive:
   * - Móvil:   1rem (16px) - mínimo
   * - Fluido:  10vw - escalado proporcional
   * - Desktop: 12rem (192px) - estándar 80/20 en viewport 1920px
   * 
   * Cálculo: 1920px × 0.80 = 1536px contenido → (1920-1536)/2 = 192px/lado
   * Referencia: 04-layout/_contenedor.scss
   */
  --contenedor-padding-lateral: clamp(1rem, 10vw, 12rem);

  // --- TAMAÑOS MÍNIMOS DE INTERACCIÓN ---
  /**
   * Tamaño mínimo para elementos táctiles (WCAG 2.1 AA/AAA)
   * Target Size: 44×44px
   * Aplica a: botones, inputs, checkboxes, radio buttons, enlaces táctiles
   */
  --tamano-minimo-tactil: 2.75rem; // 44px
}

// ==========================================================================
// TEMA OSCURO (Dark Theme)
// ==========================================================================
// Variables CSS que se sobrescriben cuando se aplica [data-theme="dark"]
// Sigue la estrategia de tokens semánticos: solo modificamos las variables
// que realmente necesitan cambiar, manteniendo la coherencia del diseño.

[data-theme='dark'] {
  // --- FONDOS ---
  // Usamos escala de grises oscuros de Tailwind (slate) para coherencia
  --bg-primary: #0f172a; // slate-900 - Fondo principal oscuro
  --bg-secondary: #1e293b; // slate-800 - Fondo secundario ligeramente más claro
  --bg-tertiary: #334155; // slate-700 - Skeletons y placeholders en dark mode
  --bg-card: #283548; // Entre slate-800 y slate-700 - Tarjetas anidadas con sutil contraste

  // --- TEXTO ---
  --text-primary: #f8fafc; // slate-50 - Texto principal claro
  --text-secondary: #e2e8f0; // slate-200 - Texto secundario con mejor contraste

  // --- BORDES ---
  --border-color: #334155; // slate-700 - Bordes sutiles en tema oscuro

  // --- COLORES PRIMITIVOS OSCUROS ---
  --color-blanco: #fefefe; // Mantener blanco puro para contraste

  // --- FONDOS PRIMITIVOS (override para dark mode) ---
  --color-fondo-claro: #0f172a; // slate-900 - Fondo principal oscuro
  --color-fondo-claro-secundario: #1e293b; // slate-800 - Fondo secundario
  --color-fondo-claro-normal: #f8fafc; // Texto claro para footer

  // --- SUPERFICIES ---
  // Superficies con ligero tinte de color para mantener jerarquía visual
  --color-superficie-base: #0f172a; // slate-900 - Base oscura
  --color-superficie-blanca: #1e293b; // slate-800 - Antes "blanco", ahora gris oscuro
  --color-superficie-blanca-alt: #1e293b; // slate-800 - Alternativa
  --color-superficie-footer: #020617; // slate-950 - Footer más oscuro

  // Superficies con tintes de color (ajustadas para contraste en dark mode)
  --color-superficie-calida: #251a14; // Tinte naranja sutil con buen contraste
  --color-superficie-morada: #2a2438; // Tinte morado más claro para contraste con bg-secondary
  --color-superficie-azul: #172033; // Tinte azul sutil con buen contraste

  // Fondos de página con tinte de color (crear/unirse grupo)
  --color-fondo-claro-naranja: #1a1410; // Fondo naranja oscuro sutil
  --color-fondo-claro-azul: #0f1520; // Fondo azul oscuro sutil

  // --- COLORES DE ACENTO (más brillantes para dark mode) ---
  // Los colores de acento se mantienen vibrantes para garantizar contraste
  --color-principal: #a855f7; // purple-500 - Morado más brillante
  --color-principal-oscuro: #9333ea; // purple-600 - Hover
  --color-acento: #fb923c; // orange-400 - Naranja más brillante
  --color-acento-oscuro: #f97316; // orange-500 - Hover

  // --- SOMBRAS AJUSTADAS ---
  // Sombras más suaves y con mayor opacidad en dark mode
  --sombra-1: 0 2px 6px rgba(0, 0, 0, 0.4);
  --sombra-2: 0 2px 12px rgba(0, 0, 0, 0.5);
  --sombra-3: 0 8px 28px rgba(0, 0, 0, 0.6);
  --sombra-4: 0 14px 42px rgba(0, 0, 0, 0.7);
  --sombra-5: 0 24px 65px rgba(0, 0, 0, 0.75);
  --sombra-6: 0 32px 72px rgba(0, 0, 0, 0.8);

  // Sombras de color para iconos (efecto glow) - más sutiles en dark mode
  --sombra-amarillo: 0 4px 6px -4px rgba(250, 204, 21, 0.4),
    0 10px 15px -3px rgba(250, 204, 21, 0.3);
  --sombra-naranja: 0 4px 6px -4px rgba(249, 115, 22, 0.4),
    0 10px 15px -3px rgba(249, 115, 22, 0.3);
  --sombra-azul: 0 4px 6px -4px rgba(96, 165, 250, 0.4),
    0 10px 15px -3px rgba(96, 165, 250, 0.3);
  --sombra-morado: 0 4px 6px -4px rgba(168, 85, 247, 0.4),
    0 10px 15px -3px rgba(168, 85, 247, 0.3);

  // --- COLORES DE TEXTO BASE (aliases) ---
  --color-texto-base: var(--text-secondary);
  --color-texto-fuerte: var(--text-primary);

  // --- COLORES DE TEXTO PRIMITIVOS (override para dark mode) ---
  --color-texto-oscuro: #f8fafc; // slate-50 - Texto principal claro
  --color-texto-normal: #cbd5e1; // slate-300 - Texto secundario

  // --- GRISES (override para dark mode) ---
  --color-gris-medio: #475569; // slate-600 - Para bordes sutiles
  --color-gris-oscuro: #94a3b8; // slate-400 - Para bordes visibles

  // --- ACCESIBILIDAD DARK MODE ---
  // Mantener texto oscuro en botones de acento (el fondo naranja/amarillo es brillante)
  --color-texto-sobre-acento: #1a202c;
  // Enlaces del footer en dark mode - WCAG AA contraste 4.5+:1 sobre slate-800 (#1e293b)
  // #cbd5e1 (slate-300) sobre #1e293b = 7.52:1 ✓
  --color-enlace-footer: #cbd5e1; // slate-300 - contraste 7.52:1 sobre slate-800

  // --- COLORES DE ESTADO ---
  // Se mantienen vibrantes para visibilidad
  --color-exito: #4ade80; // green-400
  --color-error: #f87171; // red-400
  --color-advertencia: #fbbf24; // yellow-400
  --color-informacion: #60a5fa; // blue-400
}

// ==========================================================================
// GRID
// ==========================================================================

:root {
  --grid-item-min-width-sm: 15rem;
  --grid-item-min-width-md: 17.5rem;
  --grid-item-min-width-lg: 20rem;
  --grid-item-min-width-xl: 25rem;
}

// ==========================================================================
// BORDES Y RADIOS
// ==========================================================================

:root {
  // Grosores de borde
  --borde-delgado: 1px;
  --borde-medio: 2px;
  --borde-grueso: 4px;

  // Radios (border-radius)
  --radio-pequeno: 0.25rem; // 4px
  --radio-medio: 0.5rem; // 8px
  --radio-grande: 1.125rem; // 18px
  --radio-completo: 9999px;

  // Alias semánticos para esquinas
  --radio-esquina-pequena: var(--radio-pequeno);
  --radio-esquina-media: var(--radio-medio);
  --radio-esquina-grande: var(--radio-grande);
}

// ==========================================================================
// SOMBRAS
// ==========================================================================
// Usamos la función color.adjust de Sass para aplicar transparencia
// al color base de sombras definido en _variables.scss

:root {
  // Sombras principales (elevación neutra)
  --sombra-1: 0 2px 6px #{color.adjust($color-base-sombra, $alpha: -0.94)};
  --sombra-2: 0 2px 12px #{color.adjust($color-base-sombra, $alpha: -0.92)};
  --sombra-3: 0 8px 28px #{color.adjust($color-base-sombra, $alpha: -0.9)};
  --sombra-4: 0 14px 42px #{color.adjust($color-base-sombra, $alpha: -0.86)};
  --sombra-5: 0 24px 65px #{color.adjust($color-base-sombra, $alpha: -0.84)};
  --sombra-6: 0 32px 72px #{color.adjust($color-base-sombra, $alpha: -0.76)};

  // Sombras de color para iconos (efecto glow)
  // Se usan en componentes como c-card-icon para dar profundidad con color
  --sombra-amarillo: 0 4px 6px -4px #{color.adjust($color-amarillo, $alpha: -0.7)},
    0 10px 15px -3px #{color.adjust($color-amarillo, $alpha: -0.7)};
  --sombra-naranja: 0 4px 6px -4px #{color.adjust($color-naranja-principal, $alpha: -0.7)},
    0 10px 15px -3px #{color.adjust($color-naranja-principal, $alpha: -0.7)};
  --sombra-azul: 0 4px 6px -4px #{color.adjust($color-azul, $alpha: -0.7)},
    0 10px 15px -3px #{color.adjust($color-azul, $alpha: -0.7)};
  --sombra-morado: 0 4px 6px -4px #{color.adjust($color-morado-principal, $alpha: -0.7)},
    0 10px 15px -3px #{color.adjust($color-morado-principal, $alpha: -0.7)};
  --sombra-gris: 0 4px 6px -4px #{color.adjust($color-gris-oscuro, $alpha: -0.7)},
    0 10px 15px -3px #{color.adjust($color-gris-oscuro, $alpha: -0.7)};
}

// ==========================================================================
// TRANSICIONES Y ANIMACIONES
// ==========================================================================

:root {
  // Duraciones
  --duracion-rapida: 150ms;
  --duracion-base: 300ms;
  --duracion-lenta: 500ms;

  // Funciones de tiempo
  --transicion-estandar: ease-in-out;
  --transicion-entrada: ease-in;
  --transicion-salida: ease-out;
  --transicion-lineal: linear;
}

// ==========================================================================
// Z-INDEX (Sistema de capas)
// ==========================================================================

:root {
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-fixed: 300;
  --z-modal-backdrop: 400;
  --z-modal: 500;
  --z-popover: 600;
  --z-tooltip: 650;
  --z-toast: 700;
}

// ==========================================================================
// COMPONENTES (Dimensiones de componentes globales)
// ==========================================================================

:root {
  --header-height: 5.5rem;
}
