@use '../00-settings/variables' as *;

// ==========================================================================
// 1. MEDIA QUERIES (RESPONSIVE)
// ==========================================================================
// Este mixin permite adaptar el diseño a diferentes pantallas usando
// los breakpoints que se han definido en variables.
// Enfoque Mobile First: los estilos base son para móvil y se escalan hacia arriba.
@mixin mixin-responsive($breakpoint) {
  @if $breakpoint == 'movil' {
    @media (min-width: $bp-movil) {
      @content;
    }
  } @else if $breakpoint == 'tablet' {
    @media (min-width: $bp-tablet) {
      @content;
    }
  } @else if $breakpoint == 'desktop' {
    @media (min-width: $bp-desktop) {
      @content;
    }
  } @else if $breakpoint == 'big-desktop' {
    @media (min-width: $bp-big-desktop) {
      @content;
    }
  } @else {
    @warn "Breakpoint '#{$breakpoint}' no reconocido. Usa: movil, tablet, desktop o big-desktop.";
  }
}

// ==========================================================================
// 2. FLEXBOX CENTER (POSICIONAMIENTO)
// ==========================================================================
// Centra cualquier elemento vertical y horizontalmente.
@mixin mixin-flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

// ==========================================================================
// 3. TEXT TRUNCATE (ESTÉTICA)
// ==========================================================================
// Trunca texto con puntos suspensivos (...)
// Soporta truncado de 1 línea o multilínea (usando line-clamp)
@mixin mixin-text-truncate($lines: 1) {
  @if $lines == 1 {
    // Truncado simple de una línea
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  } @else {
    // Truncado multilínea usando line-clamp (CSS moderno)
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

// ==========================================================================
// 4. FOCUS VISIBLE ACCESIBLE
// ==========================================================================
// Aplica un outline accesible y visible cuando el elemento recibe foco
// Solo se muestra con teclado (:focus-visible), no con click de ratón
@mixin mixin-focus-visible {
  &:focus-visible {
    outline: 2px solid var(--color-principal);
    outline-offset: 2px;
    border-radius: var(--radio-pequeno);
  }
}

// ==========================================================================
// 5. VISUALLY HIDDEN (Accesibilidad WCAG)
// ==========================================================================
// Oculta visualmente pero mantiene accesible para lectores de pantalla
// Uso: etiquetas de formulario ocultas, skip links, textos solo para SR
@mixin mixin-visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// ==========================================================================
// 6. ASPECT RATIO (Para contenedores de media)
// ==========================================================================
// Mantiene proporción de aspecto en contenedores
@mixin mixin-aspect-ratio($width: 16, $height: 9) {
  aspect-ratio: #{$width} / #{$height};
}

// ==========================================================================
// 7. TRANSITION HELPER
// ==========================================================================
// Aplica transiciones consistentes usando variables del sistema
@mixin mixin-transition($properties: all, $duration: var(--duracion-base)) {
  transition: $properties $duration var(--transicion-estandar);
}
